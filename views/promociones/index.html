<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Promociones</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #fdf6e3; color: #5a4632; }
    .promo { background: #fff8e7; border: 1px solid #d2b48c; margin: 10px; padding: 15px; border-radius: 8px; }
    h3 { color: #8b6f47; }
    .volver-home-btn{
      display:inline-block;
      margin:12px 0 18px 0;
      background: linear-gradient(180deg,#fff8e7,#f3e0c8);
      color: #5a4632;
      padding:10px 16px;
      border-radius:10px;
      border:1px solid rgba(90,70,50,0.08);
      text-decoration:none;
      font-weight:700;
      box-shadow: 0 8px 20px rgba(90,70,50,0.06);
      transition: transform .14s ease, box-shadow .14s ease;
    }
    .volver-home-btn:hover{ transform: translateY(-3px); box-shadow: 0 12px 28px rgba(90,70,50,0.10); }
    .volver-home-btn:focus{ outline: 3px solid rgba(163,125,80,0.12); outline-offset: 3px; }
  </style>
</head>
<body>
  <h1>Promociones Activas</h1>
  <div id="activePromos"></div>
   <a href="/" class="volver-home-btn">INICIO</a>
  <div id="activePromos"></div>

  <script>
    async function loadActivePromotions() { //funci칩n para cargar promociones activas
      try {
        const response = await fetch("/api/promociones-activas"); //realizar una solicitud GET a la ruta de promociones activas
        const promos = await response.json(); //convertir la respuesta a formato JSON

        const container = document.getElementById("activePromos"); //obtener el contenedor donde se mostrar치n las promociones
        container.innerHTML = ""; //limpiar el contenedor antes de agregar nuevas promociones

        promos.forEach(promo => { //iterar sobre cada promoci칩n recibida
          const div = document.createElement("div"); //crear un nuevo div para cada promoci칩n
          div.className = "promo"; //asignar la clase CSS "promo" al div
          div.innerHTML = `  
            <h3>${promo.title}</h3>
            <p>${promo.description}</p>
            <small>${new Date(promo.startDate).toLocaleDateString()} - ${new Date(promo.endDate).toLocaleDateString()}</small>
          `;
          container.appendChild(div);
        });
      } catch (error) {
        console.error(error);
        alert("Error al cargar promociones");
      }
    }

    loadActivePromotions();
  </script>
</body>
</html>